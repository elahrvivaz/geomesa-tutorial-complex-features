<?xml version="1.0" encoding="UTF-8"?>
<as:AppSchemaDataAccess xmlns:as="http://www.geotools.org/app-schema"
                        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                        xsi:schemaLocation="http://www.geotools.org/app-schema AppSchemaDataAccess.xsd">
  <namespaces>
    <Namespace>
      <prefix>gml</prefix>
      <uri>http://www.opengis.net/gml</uri>
    </Namespace>
    <Namespace>
      <prefix>gsml</prefix>
      <uri>urn:cgi:xmlns:CGI:GeoSciML:2.0</uri>
    </Namespace>
    <Namespace>
      <prefix>xlink</prefix>
      <uri>http://www.w3.org/1999/xlink</uri>
    </Namespace>
  </namespaces>
  <includedTypes>
    <Include>ucd-gsml-MappedFeature-mapping.xml</Include>
  </includedTypes>
  <sourceDataStores>
    <DataStore>
      <id>gdelt</id>
      <parameters>
        <Parameter>
          <name>instanceId</name>
          <value>mycloud</value>
        </Parameter>
        <Parameter>
          <name>zookeepers</name>
          <value>zoo1,zoo2,zoo3</value>
        </Parameter>
        <Parameter>
          <name>user</name>
          <value>myuser</value>
        </Parameter>
        <Parameter>
          <name>password</name>
          <value>mypassword</value>
        </Parameter>
        <Parameter>
          <name>tableName</name>
          <value>gdelt</value>
        </Parameter>
        <Parameter>
          <name>featureName</name>
          <value>gdelt</value>
        </Parameter>
        <!--
        <Parameter>
          <name>visibilities</name>
          <value></value>
        </Parameter>
        <Parameter>
          <name>auths</name>
          <value></value>
        </Parameter>
        -->
      </parameters>
    </DataStore>
  </sourceDataStores>
  <targetTypes>
    <FeatureType>
      <schemaUri>http://www.geosciml.org/geosciml/2.0/xsd/geosciml.xsd</schemaUri>
    </FeatureType>
  </targetTypes>
  <typeMappings>
    <FeatureTypeMapping>
      <sourceDataStore>gdelt</sourceDataStore>
      <sourceType>gdelt</sourceType>
      <targetElement>gsml:GeologicUnit</targetElement>
      <attributeMappings>
        <AttributeMapping>
          <targetAttribute>
            gsml:GeologicUnit
          </targetAttribute>
          <idExpression>
            <OCQL>getId()</OCQL>
          </idExpression>
        </AttributeMapping>
        <!--<AttributeMapping>
            <targetAttribute>
                gml:description
              </targetAttribute>
            <sourceExpression>
                <OCQL>DESCRIPTION</OCQL>
            </sourceExpression>
        </AttributeMapping>-->
        <AttributeMapping>
          <targetAttribute>
            gml:name[1]
          </targetAttribute>
          <sourceExpression>
            <OCQL>Actor1Name</OCQL>
          </sourceExpression>
          <ClientProperty>
            <name>codeSpace</name>
            <value>'urn:x-test:classifierScheme:TestAuthority:GeologicUnitName'</value>
          </ClientProperty>
        </AttributeMapping>
        <AttributeMapping>
          <targetAttribute>
            gml:name[2]
          </targetAttribute>
          <sourceExpression>
            <OCQL>Actor2Name</OCQL>
          </sourceExpression>
          <ClientProperty>
            <name>codeSpace</name>
            <value>'urn:x-test:classifierScheme:TestAuthority:GeologicUnitCode'</value>
          </ClientProperty>
        </AttributeMapping>
        <!--<AttributeMapping>
            <targetAttribute>
                gml:name[3]
              </targetAttribute>
            <sourceExpression>
                <OCQL>URN</OCQL>
            </sourceExpression>
            <ClientProperty>
                <name>codeSpace</name>
                <value>'urn:x-test:classifierScheme:TestAuthority:GeologicUnitId'</value>
            </ClientProperty>
        </AttributeMapping>-->
        <AttributeMapping>
          <targetAttribute>
            gsml:occurrence
          </targetAttribute>
          <sourceExpression>
            <OCQL>Actor1Name</OCQL>
            <linkElement>gsml:MappedFeature</linkElement>
            <linkField>gml:name[2]</linkField>
          </sourceExpression>
          <isMultiple>true</isMultiple>
        </AttributeMapping>
      </attributeMappings>
    </FeatureTypeMapping>
  </typeMappings>
</as:AppSchemaDataAccess>
